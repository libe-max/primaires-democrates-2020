{"version":3,"sources":["config.js","serviceWorker.js","components/Header/index.js","components/StickyHeader/index.js","components/Intro/index.js","components/Candidate/index.js","components/Scores/index.js","components/State/index.js","components/Calendar/index.js","components/Navigation/index.js","components/ReadAlso/index.js","components/Explanations/index.js","components/CandidateBio/index.js","components/StateDetails/index.js","components/DetailPanel/index.js","App.js","index.js"],"names":["window","location","protocol","hostname","config","meta","author","title","url","description","image","xiti_id","tweet","tracking","active","format","article","show_header","statics_url","api_url","stylesheet","spreadsheet","module","exports","Boolean","match","Header","props","scrollToContentStart","c","classes","className","join","PageTitle","LibeLaboLogo","ArticleMeta","authors","name","role","onClick","e","preventDefault","Svg","src","staticsUrl","StickyHeader","useState","LBLB_GLOBAL","nav_height","offsetTop","setOffsetTop","pageIsScrolled","setPageIsScrolled","fireSetOffsetTop","checkPageScrollLevel","$header","document","querySelector","headerHeight","clientHeight","pageScroll","scrollY","useEffect","setInterval","addEventListener","clearInterval","removeEventListener","push","style","top","level","Intro","advancement","showExplanations","today","moment","BlockTitle","Math","round","Paragraph","href","Candidate","value","activateCandidate","isFirst","percentScore","score","_scores","reduce","curr","state","Number","delegates","id","data-relative-score","backgroundImage","photo","short_name","Scores","candidates","reducedScoreCandidates","map","candidate","_total_score","maxScore","max","sortedCandidates","sort","canA","canB","$scores","$candidates","querySelectorAll","forEach","$candidate","i","target","getAttribute","$gauge","Element","prototype","animate","width","duration","delay","easing","onfinish","key","State","activateState","date","Calendar","states","chronoSortedStates","stateA","stateB","Navigation","ReadAlso","links","link","Explanations","CandidateBio","bio","StateDetails","displayDate","displayName","sortedScores","find","percentage","scoreA","scoreB","DetailPanel","mode","content","close","child","App","loading_sheet","error_sheet","data_sheet","show_detail_panel","detail_panel_mode","detail_panel_content","keystrokes_history","konami_mode","fetchSheet","bind","fetchCredentials","listenToKeyStrokes","watchKonamiCode","closeDetailPanel","this","setState","api","fetch","method","reach","json","response","_credentials","lblb_tracking","lblb_posting","console","error","Error","sheet","ok","text","data","parseTsv","transformedCandidates","result","Object","keys","splValue","split","trim","replace","status","keyCode","currHistory","newHistory","slice","$intro","navHeight","scroll","left","behavior","Loader","LoadingError","endOf","transformedStates","voteDate","_passed","totalDelegates","total","nb_delegates","ShareArticle","short","iconsOnly","publishedOn","updatedOn","Component","AppWrapper","getElementsHeight","rem","breakpoints","lg","min","Infinity","md","sm","defineProperty","get","client_width","headerScript","createElement","chartbeat","googleAnalytics","xiti","xtCore","setAttribute","innerHTML","body","appendChild","$nav","$body","pNavHeight","pBodyPaddingTop","body_padding_top","pClientWidth","pClientHeight","client_height","offsetHeight","bodyPaddingTop","parseFloat","getComputedStyle","clientWidth","documentElement","pCurrentDisplay","current_display","dispatchEvent","CustomEvent","Helmet","rel","property","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.01a9079c.chunk.js","sourcesContent":["const currentProtocol = typeof window !== 'undefined' ? window.location.protocol : 'http:'\nconst currentHostname = typeof window !== 'undefined' ? window.location.hostname : 'localhost'\n\nconst config = {\n  meta: {\n    author: 'Maxime Fabas',\n    title: 'Primaires démocrates 2020',\n    url: 'https://www.liberation.fr/apps/2020/01/primaires-democrates-2020',\n    description: '',\n    image: '',\n    xiti_id: 'primaires-democrates-2020',\n    tweet: 'Some tweet text',\n  },\n  tracking: {\n    active: false,\n    format: 'libe-apps-template',\n    article: 'libe-apps-template'\n  },\n  show_header: true,\n  statics_url: process.env.NODE_ENV === 'production'\n    ? 'https://www.liberation.fr/apps/static'\n    : `${currentProtocol}//${currentHostname}:3003`,\n  api_url: process.env.NODE_ENV === 'production'\n    ? 'https://libe-labo-2.site/api'\n    : `${currentProtocol}//${currentHostname}:3004/api`,\n  stylesheet: 'primaires-democrates.css',\n  spreadsheet: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vT99eXOlXkLDOGU7ucGzQ0G9zZEsQkNuDdp8iMy58gkW9TEnMpjn9cnNmpgnPgz6PU0HdVbjciIbkAp/pub?gid=1987543395&single=true&output=tsv'\n}\n\nmodule.exports = config\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register (config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport PageTitle from 'libe-components/lib/text-levels/PageTitle'\nimport LibeLaboLogo from 'libe-components/lib/blocks/LibeLaboLogo'\nimport ArticleMeta from 'libe-components/lib/blocks/ArticleMeta'\nimport Svg from 'libe-components/lib/primitives/Svg'\nimport { statics_url as staticsUrl } from '../../config'\n\n/*\n *   Header\n *   ------------------------------------------------------\n *\n *   PROPS\n *   scrollToContentStart\n *   \n */\n\nexport default function Header (props) {\n  /* * * * * * * * * * * * * * * *\n   *\n   * STATE & PROPS\n   *\n   * * * * * * * * * * * * * * * */\n  const { scrollToContentStart } = props\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * ASSIGN CLASSES\n   *\n   * * * * * * * * * * * * * * * */\n  const c = 'primaires-democrates-header'\n  const classes = [c]\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * HANDLERS\n   *\n   * * * * * * * * * * * * * * * */\n  function handleScrollButtonClick (e) {\n    if (e && e.preventDefault) e.preventDefault()\n    if (scrollToContentStart) scrollToContentStart()\n  }\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * RENDER\n   *\n   * * * * * * * * * * * * * * * */\n  return <div className={classes.join(' ')}>\n    <div className={`${c}_desktop`}>\n      <div className={`${c}_desktop-left`}>\n        <PageTitle>\n          <span>Primaires démocrates</span>\n          <span>La course à l'investiture</span>\n        </PageTitle>\n      </div>\n      <div className={`${c}_desktop-right`}>\n        <LibeLaboLogo />\n        <ArticleMeta\n          authors={[\n            { name: 'Baptiste Bouthier', role: 'Réalisation' },\n            { name: 'Clara de Alberto', role: 'Réalisation' },\n            { name: 'Maxime Fabas', role: 'Réalisation' },\n          ]} />\n      </div>\n    </div>\n    <div className={`${c}_mobile`}>\n      <PageTitle>\n        <span>Primaires démocrates</span>\n        <span>la course à l'investiture</span>\n      </PageTitle>\n      <LibeLaboLogo />\n      <ArticleMeta\n        authors={[\n          { name: 'Baptiste Bouthier', role: 'Réalisation' },\n          { name: 'Clara de Alberto', role: 'Réalisation' },\n          { name: 'Maxime Fabas', role: 'Réalisation' },\n        ]} />\n      <button onClick={handleScrollButtonClick}>\n        <Svg src={`${staticsUrl}/assets/down-arrow-head-icon_24.svg`} />\n      </button>\n    </div>\n  </div>\n}\n","import React, { useState, useEffect } from 'react'\nimport PageTitle from 'libe-components/lib/text-levels/PageTitle'\n\n/*\n *   StickyHeader\n *   ------------------------------------------------------\n *\n *   PROPS\n *   -\n *   \n */\n\nexport default function StickyHeader (props) {\n  /* * * * * * * * * * * * * * * *\n   *\n   * STATE & PROPS\n   *\n   * * * * * * * * * * * * * * * */\n  const [offsetTop, setOffsetTop] = useState(window.LBLB_GLOBAL.nav_height)\n  const [pageIsScrolled, setPageIsScrolled] = useState(false)\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * METHODS\n   *\n   * * * * * * * * * * * * * * * */\n  function fireSetOffsetTop () {\n    setOffsetTop(window.LBLB_GLOBAL.nav_height)\n  }\n\n  function checkPageScrollLevel () {\n    const $header = document.querySelector('.primaires-democrates-header')\n    if (!$header) return\n    const headerHeight = $header.clientHeight\n    const pageScroll = window.scrollY\n    const newPageIsScrolled = pageScroll >= headerHeight\n    setPageIsScrolled(newPageIsScrolled)\n  }\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * EFFECTS\n   *\n   * * * * * * * * * * * * * * * */\n  useEffect(() => {\n    window.setInterval(fireSetOffsetTop, 500)\n    window.addEventListener('scroll', checkPageScrollLevel)\n    return () => {\n      window.clearInterval(fireSetOffsetTop)\n      window.removeEventListener('scroll', checkPageScrollLevel)\n    }\n  }, [])\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * ASSIGN CLASSES\n   *\n   * * * * * * * * * * * * * * * */\n  const c = 'primaires-democrates-sticky-header'\n  const classes = [c]\n  if (pageIsScrolled) classes.push(`${c}_visible`)\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * RENDER\n   *\n   * * * * * * * * * * * * * * * */\n  return <div\n    style={{ top: offsetTop }}\n    className={classes.join(' ')}>\n    <PageTitle level={6}>\n      <span>Primaires démocrates</span>\n      <span>La course à l'investiture</span>\n    </PageTitle>\n  </div>\n}\n","import React from 'react'\nimport moment from 'moment'\nimport 'moment/locale/fr'\nimport BlockTitle from 'libe-components/lib/text-levels/BlockTitle'\nimport Paragraph from 'libe-components/lib/text-levels/Paragraph'\n\n/*\n *   Intro\n *   ------------------------------------------------------\n *\n *   PROPS\n *   advancement, showExplanations\n *   \n */\n\nexport default function Intro (props) {\n  /* * * * * * * * * * * * * * * *\n   *\n   * PROPS & STATE\n   *\n   * * * * * * * * * * * * * * * */\n  const { advancement, showExplanations } = props\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * ACTION HANDLERS\n   *\n   * * * * * * * * * * * * * * * */\n  function handleClick (e) {\n    if (e && e.preventDefault) e.preventDefault()\n    if (showExplanations) showExplanations()\n  }\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * LOGIC\n   *\n   * * * * * * * * * * * * * * * */\n  const today = moment().format('DD MMMM YYYY')\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * ASSIGN CLASSES\n   *\n   * * * * * * * * * * * * * * * */\n  const c = 'primaires-democrates-intro'\n  const classes = [c]\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * RENDER\n   *\n   * * * * * * * * * * * * * * * */\n  return <div className={classes.join(' ')}>\n    <BlockTitle level={10}>\n      <span>Au {today}</span>\n      <span>il reste {100 - Math.round(advancement * 100)}% délégués à élire</span>\n    </BlockTitle>\n    <Paragraph>\n      <a\n        href='#'\n        onClick={handleClick}>\n        J'ai rien compris\n      </a>\n    </Paragraph>\n  </div>\n}\n","import React from 'react'\nimport BlockTitle from 'libe-components/lib/text-levels/BlockTitle'\n\n/*\n *   Candidate\n *   ------------------------------------------------------\n *\n *   PROPS\n *   value, activateCandidate, isFirst, percentScore\n *   \n */\n\nexport default function Candidate (props) {\n  /* * * * * * * * * * * * * * * *\n   *\n   * PROPS & STATE\n   *\n   * * * * * * * * * * * * * * * */\n  const { value, activateCandidate, isFirst, percentScore } = props\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * ACTION HANDLERS\n   *\n   * * * * * * * * * * * * * * * */\n  function handleClick (e) {\n    if (activateCandidate && value.id) activateCandidate(value.id)\n  }\n\n   /* * * * * * * * * * * * * * * *\n   *\n   * INNER LOGIC\n   *\n   * * * * * * * * * * * * * * * */\n  const score = value._scores.reduce((curr, state) => curr + Number(state.delegates || 0), 0)\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * ASSIGN CLASSES\n   *\n   * * * * * * * * * * * * * * * */\n  const c = 'primaires-democrates-candidate'\n  const classes = [c]\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * RENDER\n   *\n   * * * * * * * * * * * * * * * */\n  return <div\n    onClick={handleClick}\n    className={classes.join(' ')}\n    data-relative-score={percentScore}>\n    <div className={`${c}__score-gauge-range`}>\n      <div className={`${c}__score-gauge`}>\n        {value.score}\n      </div>\n    </div>\n    <div\n      className={`${c}__photo`}\n      style={{backgroundImage: `url(${value.photo})`}}>\n      {value.name}\n    </div>\n    <span className={`${c}__name`}>\n      <BlockTitle level={10}>{value.short_name}</BlockTitle>\n    </span>\n    <span className={`${c}__score`}>\n      <BlockTitle level={10}>{\n        isFirst ? `${score} délégués` : score\n      }</BlockTitle>\n    </span>\n  </div>\n}\n","import React, { useEffect } from 'react'\nimport Candidate from '../Candidate'\n\n/*\n *   Scores\n *   ------------------------------------------------------\n *\n *   PROPS\n *   candidates, activateCandidate\n *   \n */\n\nexport default function Scores (props) {\n  /* * * * * * * * * * * * * * * *\n   *\n   * PROPS & STATE\n   *\n   * * * * * * * * * * * * * * * */\n  const { candidates, activateCandidate } = props\n\n   /* * * * * * * * * * * * * * * *\n   *\n   * INNER LOGIC\n   *\n   * * * * * * * * * * * * * * * */\n  const reducedScoreCandidates = candidates.map(candidate => ({\n    ...candidate,\n    _total_score: candidate._scores.reduce((curr, state) => curr + Number(state.delegates || 0), 0)\n  }))\n  const maxScore = Math.max(...reducedScoreCandidates.map(candidate => candidate._total_score))\n  const sortedCandidates = [...reducedScoreCandidates].sort((canA, canB) => canB._total_score - canA._total_score)\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * EFFECTS\n   *\n   * * * * * * * * * * * * * * * */\n  useEffect(() => {\n    const $scores = document.querySelector('.primaires-democrates-scores')\n    if (!$scores) return\n    const $candidates = [...$scores.querySelectorAll('.primaires-democrates-candidate')]\n    if (!$candidates) return\n    $candidates.forEach(($candidate, i) => {\n      const target = Number($candidate.getAttribute('data-relative-score')) * 100\n      const $gauge = $candidate.querySelector('.primaires-democrates-candidate__score-gauge')\n      if (!target && target !== 0) return\n      if (!$gauge) return\n      if (Element.prototype.animate) {\n        // Element.prototype.animate is supported\n        const animation = $gauge.animate([\n          { width: '0%' },\n          { width: `${target}%` }\n        ], {\n          duration: 400,\n          delay: 500 + (i * 50),\n          easing: 'ease-out'\n        })\n        animation.onfinish = () => $gauge.style.width = `${target}%`\n      } else {\n        // Element.prototype.animate unsupported\n        $gauge.style.width = `${target}%`\n      }\n    })\n  }, [candidates])\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * ASSIGN CLASSES\n   *\n   * * * * * * * * * * * * * * * */\n  const c = 'primaires-democrates-scores'\n  const classes = [c]\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * RENDER\n   *\n   * * * * * * * * * * * * * * * */\n  return <div className={classes.join(' ')}>\n    {sortedCandidates.map((candidate, i) => (\n      <Candidate\n        isFirst={i === 0}\n        key={candidate.id}\n        percentScore={candidate._total_score / maxScore}\n        activateCandidate={activateCandidate}\n        value={candidate} />\n      )\n    )}\n  </div>\n}\n","import React from 'react'\nimport moment from 'moment'\n\n/*\n *   State\n *   ------------------------------------------------------\n *\n *   PROPS\n *   value, activateState\n *   \n */\n\nexport default function State (props) {\n  /* * * * * * * * * * * * * * * *\n   *\n   * PROPS & STATE\n   *\n   * * * * * * * * * * * * * * * */\n  const { value, activateState } = props\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * ACTION HANDLERS\n   *\n   * * * * * * * * * * * * * * * */\n  function handleClick (e) {\n    if (activateState && value.id) activateState(value.id)\n  }\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * ASSIGN CLASSES\n   *\n   * * * * * * * * * * * * * * * */\n  const c = 'primaires-democrates-state'\n  const classes = [c]\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * RENDER\n   *\n   * * * * * * * * * * * * * * * */\n  return <div\n    onClick={handleClick}\n    className={classes.join(' ')}>\n    <span>{moment(value.date, 'DD/MM/YYYY').format('DD MMMM')}</span>\n    <span>{value.name}</span>\n  </div>\n}\n","import React from 'react'\nimport moment from 'moment'\nimport State from '../State'\n\n/*\n *   Calendar\n *   ------------------------------------------------------\n *\n *   PROPS\n *   states, activateState\n *   \n */\n\nexport default function Calendar (props) {\n  /* * * * * * * * * * * * * * * *\n   *\n   * PROPS & STATE\n   *\n   * * * * * * * * * * * * * * * */\n  const { states, activateState } = props\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * LOGIC\n   *\n   * * * * * * * * * * * * * * * */\n  const chronoSortedStates = states.sort((stateA, stateB) => {\n    return moment(stateA.date, 'DD/MM/YYYY') - moment(stateB.date, 'DD/MM/YYYY')\n  })\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * ASSIGN CLASSES\n   *\n   * * * * * * * * * * * * * * * */\n  const c = 'primaires-democrates-calendar'\n  const classes = [c]\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * RENDER\n   *\n   * * * * * * * * * * * * * * * */\n  return <div className={classes.join(' ')}>{\n    chronoSortedStates.map(state => <State\n      value={state}\n      key={state.id}\n      activateState={activateState} />)\n  }</div>\n}\n","import React from 'react'\n\n/*\n *   Navigation\n *   ------------------------------------------------------\n *\n *   PROPS\n *   -\n *   \n */\n\nexport default function Navigation (props) {\n  /* * * * * * * * * * * * * * * *\n   *\n   * ASSIGN CLASSES\n   *\n   * * * * * * * * * * * * * * * */\n  const c = 'primaires-democrates-navigation'\n  const classes = [c]\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * RENDER\n   *\n   * * * * * * * * * * * * * * * */\n  return <div className={classes.join(' ')}>\n    <button>La course</button>\n    <button>Le calendrier</button>\n    <button>Retour à la course</button>\n    <button>Retour au calendrier</button>\n  </div>\n}\n","import React from 'react'\n\n/*\n *   ReadAlso\n *   ------------------------------------------------------\n *\n *   PROPS\n *   links\n *   \n */\n\nexport default function ReadAlso (props) {\n  /* * * * * * * * * * * * * * * *\n   *\n   * PROPS & STATE\n   *\n   * * * * * * * * * * * * * * * */\n  const { links } = props\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * ASSIGN CLASSES\n   *\n   * * * * * * * * * * * * * * * */\n  const c = 'primaires-democrates-read-also'\n  const classes = [c]\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * RENDER\n   *\n   * * * * * * * * * * * * * * * */\n  return <div className={classes.join(' ')}>\n    <div>À lire aussi</div>\n    <div>\n      {(links || []).map(link => <div key={link.title}>\n        <a href={link.url} target='_blank'>\n          {link.title}\n        </a>\n      </div>)}\n    </div>\n  </div>\n}\n","import React from 'react'\n\n/*\n *   Explanations\n *   ------------------------------------------------------\n *\n *   PROPS\n *   -\n *   \n */\n\nexport default function Explanations (props) {\n  /* * * * * * * * * * * * * * * *\n   *\n   * ASSIGN CLASSES\n   *\n   * * * * * * * * * * * * * * * */\n  const c = 'primaires-democrates-explanations'\n  const classes = [c]\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * RENDER\n   *\n   * * * * * * * * * * * * * * * */\n  return <div className={classes.join(' ')}>\n    Explanations\n  </div>\n}\n","import React from 'react'\n\n/*\n *   CandidateBio\n *   ------------------------------------------------------\n *\n *   PROPS\n *   candidate\n *   \n */\n\nexport default function CandidateBio (props) {\n  /* * * * * * * * * * * * * * * *\n   *\n   * PROPS & STATE\n   *\n   * * * * * * * * * * * * * * * */\n  const { candidate } = props\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * LOGIC\n   *\n   * * * * * * * * * * * * * * * */\n  const name = candidate ? candidate.name : null\n  const bio = candidate ? candidate.bio : null\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * ASSIGN CLASSES\n   *\n   * * * * * * * * * * * * * * * */\n  const c = 'primaires-democrates-candidate-bio'\n  const classes = [c]\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * RENDER\n   *\n   * * * * * * * * * * * * * * * */\n  return <div className={classes.join(' ')}>\n    <div>{name}</div>\n    <div>{bio}</div>\n  </div>\n}\n","import React from 'react'\nimport moment from 'moment'\n\n/*\n *   StateDetails\n *   ------------------------------------------------------\n *\n *   PROPS\n *   state, candidates, activateCandidate\n *   \n */\n\nexport default function StateDetails (props) {\n  /* * * * * * * * * * * * * * * *\n   *\n   * PROPS & STATE\n   *\n   * * * * * * * * * * * * * * * */\n  const { state, candidates, activateCandidate } = props\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * HANDLERS\n   *\n   * * * * * * * * * * * * * * * */\n  function handleCandidateClick (e, id) {\n    if (activateCandidate) activateCandidate(id)\n  }\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * ASSIGN CLASSES\n   *\n   * * * * * * * * * * * * * * * */\n  const c = 'primaires-democrates-state-details'\n  const classes = [c]\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * LOGIC\n   *\n   * * * * * * * * * * * * * * * */\n  const displayDate = state ? moment(state.date, 'DD/MM/YYYY').format('DD MMMM') : null\n  const displayName = state ? state.name : null\n  const scores = candidates.map(candidate => {\n    const score = candidate._scores.find(score => score.state === state)\n    return {\n      id: candidate.id,\n      name: candidate.name,\n      delegates: score ? score.delegates : 0,\n      percentage: score ? score.percentage : 0\n    }\n  })\n  const sortedScores = scores.sort((scoreA, scoreB) => {\n    return scoreB.delegates - scoreA.delegates\n  })\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * RENDER\n   *\n   * * * * * * * * * * * * * * * */\n  return <div className={classes.join(' ')}>\n    <span>{displayDate}</span>\n    <span>{displayName}</span>\n    <div>\n      {sortedScores.map(score => {\n        return <div\n          key={score.id}\n          onClick={e => handleCandidateClick(e, score.id)}>\n          <span>{score.name}</span>\n          <span>{score.percentage}</span>\n          <span>{score.delegates} délégués</span>\n        </div>\n      })}\n    </div>\n  </div>\n}\n","import React from 'react'\nimport Explanations from '../Explanations'\nimport CandidateBio from '../CandidateBio'\nimport StateDetails from '../StateDetails'\n\n/*\n *   DetailPanel\n *   ------------------------------------------------------\n *\n *   PROPS\n *   mode, content, candidates, states, close,\n *   activateCandidate\n *   \n */\n\nexport default function DetailPanel (props) {\n  /* * * * * * * * * * * * * * * *\n   *\n   * PROPS & STATE\n   *\n   * * * * * * * * * * * * * * * */\n  const { mode, content, candidates, states, close, activateCandidate } = props\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * HANDLERS\n   *\n   * * * * * * * * * * * * * * * */\n  function handleButtonClick (e) {\n    if (e && e.preventDefault) e.preventDefault()\n    if (close) close()\n  }\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * LOGIC\n   *\n   * * * * * * * * * * * * * * * */\n  let child = null\n  if (mode === 'explanations') child = <Explanations />\n  else if (mode === 'candidate') child = <CandidateBio\n    candidate={candidates.find(candidate => candidate.id === content)} />\n  else if (mode === 'state') child = <StateDetails\n    candidates={candidates}\n    activateCandidate={activateCandidate}\n    state={states.find(state => state.id === content)} />\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * ASSIGN CLASSES\n   *\n   * * * * * * * * * * * * * * * */\n  const c = 'primaires-democrates-detail-panel'\n  const classes = [c]\n\n  /* * * * * * * * * * * * * * * *\n   *\n   * RENDER\n   *\n   * * * * * * * * * * * * * * * */\n  return <div className={classes.join(' ')}>\n    <button onClick={handleButtonClick}>CLOSE</button>\n    {child}\n  </div>\n}\n","import React, { Component } from 'react'\nimport moment from 'moment'\nimport { parseTsv } from 'libe-utils'\nimport Loader from 'libe-components/lib/blocks/Loader'\nimport LoadingError from 'libe-components/lib/blocks/LoadingError'\nimport ShareArticle from 'libe-components/lib/blocks/ShareArticle'\nimport LibeLaboLogo from 'libe-components/lib/blocks/LibeLaboLogo'\nimport ArticleMeta from 'libe-components/lib/blocks/ArticleMeta'\nimport Header from './components/Header'\nimport StickyHeader from './components/StickyHeader'\nimport Intro from './components/Intro'\nimport Scores from './components/Scores'\nimport Calendar from './components/Calendar'\nimport Navigation from './components/Navigation'\nimport ReadAlso from './components/ReadAlso'\nimport DetailPanel from './components/DetailPanel'\n\nexport default class App extends Component {\n  /* * * * * * * * * * * * * * * * *\n   *\n   * CONSTRUCTOR\n   *\n   * * * * * * * * * * * * * * * * */\n  constructor () {\n    super()\n    this.c = 'lblb-some-app'\n    this.state = {\n      loading_sheet: true,\n      error_sheet: null,\n      data_sheet: {\n        candidates: [],\n        states: [],\n        links: [],\n      },\n      show_detail_panel: false,\n      detail_panel_mode: null,\n      detail_panel_content: null,\n      keystrokes_history: [],\n      konami_mode: false\n    }\n    this.fetchSheet = this.fetchSheet.bind(this)\n    this.fetchCredentials = this.fetchCredentials.bind(this)\n    this.listenToKeyStrokes = this.listenToKeyStrokes.bind(this)\n    this.watchKonamiCode = this.watchKonamiCode.bind(this)\n    this.showExplanations = this.showExplanations.bind(this)\n    this.activateCandidate = this.activateCandidate.bind(this)\n    this.activateState = this.activateState.bind(this)\n    this.closeDetailPanel = this.closeDetailPanel.bind(this)\n    this.scrollToContentStart = this.scrollToContentStart.bind(this)\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * DID MOUNT\n   *\n   * * * * * * * * * * * * * * * * */\n  componentDidMount () {\n    document.addEventListener('keydown', this.listenToKeyStrokes)\n    this.fetchCredentials()\n    if (this.props.spreadsheet) return this.fetchSheet()\n    return this.setState({ loading_sheet: false })\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * WILL UNMOUNT\n   *\n   * * * * * * * * * * * * * * * * */\n  componentWillUnmount () {\n    document.removeEventListener('keydown', this.listenToKeyStrokes)\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * FETCH CREDENTIALS\n   *\n   * * * * * * * * * * * * * * * * */\n  async fetchCredentials () {\n    const { api_url } = this.props\n    const { format, article } = this.props.tracking\n    const api = `${api_url}/${format}/${article}/load`\n    try {\n      const reach = await window.fetch(api, { method: 'POST' })\n      const response = await reach.json()\n      const { lblb_tracking, lblb_posting } = response._credentials\n      if (!window.LBLB_GLOBAL) window.LBLB_GLOBAL = {}\n      window.LBLB_GLOBAL.lblb_tracking = lblb_tracking\n      window.LBLB_GLOBAL.lblb_posting = lblb_posting\n      return { lblb_tracking, lblb_posting }\n    } catch (error) {\n      console.error('Unable to fetch credentials:')\n      console.error(error)\n      return Error(error)\n    }\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * FETCH SHEET\n   *\n   * * * * * * * * * * * * * * * * */\n  async fetchSheet () {\n    this.setState({ loading_sheet: true, error_sheet: null })\n    const sheet = this.props.spreadsheet\n    try {\n      const reach = await window.fetch(this.props.spreadsheet)\n      if (!reach.ok) throw reach\n      const data = await reach.text()\n      const [candidates, states, links] = parseTsv(data, [63, 5, 2])\n      const transformedCandidates = candidates.map(candidate => {\n        const result = { _scores: [] }\n        Object.keys(candidate).forEach(key => {\n          if (key.match(/^id|name|bio|photo|racing$/)) result[key] = candidate[key]\n          else {\n            const splValue = candidate[key].split(';')\n            result._scores.push({\n              state: key,\n              delegates: Number((splValue[0] || '0').trim()),\n              percentage: Number((splValue[1] || '0%').trim().replace(/%/igm, '')) / 100\n            })\n          }\n        })\n        return result\n      })\n      this.setState({\n        loading_sheet: false,\n        error_sheet: null,\n        data_sheet: {\n          candidates: transformedCandidates,\n          states,\n          links\n        }\n      })\n      return data\n    } catch (error) {\n      if (error.status) {\n        const text = `${error.status} error while fetching : ${sheet}`\n        this.setState({ loading_sheet: false, error_sheet: error })\n        console.error(text, error)\n        return Error(text)\n      } else {\n        this.setState({ loading_sheet: false, error_sheet: error })\n        console.error(error)\n        return Error(error)\n      }\n    }\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * START LISTENING KEYSTROKES\n   *\n   * * * * * * * * * * * * * * * * */\n  listenToKeyStrokes (e) {\n    if (!e || !e.keyCode) return\n    const currHistory = this.state.keystrokes_history\n    const newHistory = [...currHistory, e.keyCode]\n    this.setState({ keystrokes_history: newHistory })\n    this.watchKonamiCode()\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * WATCH KONAMI CODE\n   *\n   * * * * * * * * * * * * * * * * */\n  watchKonamiCode () {\n    const konamiCodeStr = '38,38,40,40,37,39,37,39,66,65'\n    const lastTenKeys = this.state.keystrokes_history.slice(-10)\n    if (lastTenKeys.join(',') === konamiCodeStr) this.setState({ konami_mode: true })\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * SHOW EXPLANATIONS\n   *\n   * * * * * * * * * * * * * * * * */\n  showExplanations () {\n    this.setState({\n      show_detail_panel: true,\n      detail_panel_mode: 'explanations',\n      detail_panel_content: null\n    })\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * ACTIVATE CANDIDATE\n   *\n   * * * * * * * * * * * * * * * * */\n  activateCandidate (id) {\n    this.setState({\n      show_detail_panel: true,\n      detail_panel_mode: 'candidate',\n      detail_panel_content: id\n    })\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * ACTIVATE STATE\n   *\n   * * * * * * * * * * * * * * * * */\n  activateState (id) {\n    this.setState({\n      show_detail_panel: true,\n      detail_panel_mode: 'state',\n      detail_panel_content: id\n    })\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * CLOSE DETAIL PANEL\n   *\n   * * * * * * * * * * * * * * * * */\n  closeDetailPanel () {\n    this.setState({\n      show_detail_panel: false,\n      detail_panel_mode: null,\n      detail_panel_content: null\n    })\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * SCROLL TO CONTENT START\n   *\n   * * * * * * * * * * * * * * * * */\n  scrollToContentStart () {\n    const $intro = document.querySelector('.primaires-democrates-intro')\n    if (!$intro) return\n    const navHeight = window.LBLB_GLOBAL.nav_height\n    window.scroll({\n      top: $intro.offsetTop - navHeight,\n      left: 0,\n      behavior: 'smooth'\n    })\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * RENDER\n   *\n   * * * * * * * * * * * * * * * * */\n  render () {\n    const { c, state, props } = this\n\n    /* Assign classes */\n    const classes = [c]\n    if (state.loading_sheet) classes.push(`${c}_loading`)\n    if (state.error_sheet) classes.push(`${c}_error`)\n\n    /* Load & errors */\n    if (state.loading_sheet) return <div className={classes.join(' ')}><div className='lblb-default-apps-loader'><Loader /></div></div>\n    if (state.error_sheet) return <div className={classes.join(' ')}><div className='lblb-default-apps-error'><LoadingError /></div></div>\n\n    /* Inner logic */\n    const today = moment().endOf('day')\n    const transformedStates = state.data_sheet.states.map(state => {\n      const voteDate = moment(state.date, 'DD/MM/YYYY')\n      return { ...state, _passed: voteDate < today }\n    })\n    const totalDelegates = transformedStates.reduce((total, state) => total + Number(state.nb_delegates), 0)\n    const electDelegate = transformedStates.reduce((total, state) => state._passed ? total + Number(state.nb_delegates) : total, 0)\n    const advancement = electDelegate / totalDelegates\n\n    /* Display component */\n    return <div className={classes.join(' ')}>\n      <Header scrollToContentStart={this.scrollToContentStart} />\n      <StickyHeader />\n      <Intro\n        advancement={advancement}\n        showExplanations={this.showExplanations} />\n      <Scores\n        candidates={state.data_sheet.candidates}\n        activateCandidate={this.activateCandidate} />\n      <Calendar\n        states={state.data_sheet.states}\n        activateState={this.activateState} />\n      <Navigation />\n      <ReadAlso links={state.data_sheet.links} />\n      <DetailPanel\n        close={this.closeDetailPanel}\n        activateCandidate={this.activateCandidate}\n        mode={state.detail_panel_mode}\n        content={state.detail_panel_content}\n        candidates={state.data_sheet.candidates}\n        states={state.data_sheet.states} />\n      <div className='lblb-default-apps-footer'>\n        <ShareArticle\n          short\n          iconsOnly\n          tweet={props.meta.tweet}\n          url={props.meta.url} />\n        <ArticleMeta\n          publishedOn='02/09/2019 17:13'\n          updatedOn='03/09/2019 10:36'\n          authors={[\n            { name: 'Jean-Sol Partre', role: '', link: 'www.liberation.fr' },\n            { name: 'Maxime Fabas', role: 'Production', link: 'lol.com' }\n          ]} />\n        <LibeLaboLogo target='blank' />\n      </div>\n    </div>\n  }\n}\n","import React, { Component } from 'react'\nimport ReactDOM from 'react-dom'\nimport { Helmet } from 'react-helmet'\nimport * as serviceWorker from './serviceWorker'\nimport App from './App'\nimport config from './config'\nimport 'whatwg-fetch'\n\nclass AppWrapper extends Component {\n  /* * * * * * * * * * * * * * * * *\n   *\n   * CONSTRUCTOR\n   *\n   * * * * * * * * * * * * * * * * */\n  constructor (props) {\n    super(props)\n    this.getElementsHeight = this.getElementsHeight.bind(this)\n    if (!window.LBLB_GLOBAL) window.LBLB_GLOBAL = {}\n    window.LBLB_GLOBAL.rem = 16\n    window.LBLB_GLOBAL.breakpoints = {\n      lg: { min: 1 + 63 * window.LBLB_GLOBAL.rem, max: Infinity },\n      md: { min: 1 + 40 * window.LBLB_GLOBAL.rem, max: 63 * window.LBLB_GLOBAL.rem },\n      sm: { min: 0, max: 40 * window.LBLB_GLOBAL.rem }\n    }\n    Object.defineProperty(window.LBLB_GLOBAL, 'current_display', {\n      get: function () {\n        return Object.keys(this.breakpoints).find(name => {\n          return this.breakpoints[name].min <= this.client_width &&\n            this.breakpoints[name].max >= this.client_width\n        })\n      }\n    })\n    window.setInterval(this.getElementsHeight, 250)\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * WILL UNMOUNT\n   *\n   * * * * * * * * * * * * * * * * */\n  componentWillUnmount () {\n    window.clearInterval(this.getElementsHeight)\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * DID MOUNT\n   *\n   * * * * * * * * * * * * * * * * */\n  componentDidMount () {\n    const { xiti_id } = this.props.meta\n    const headerScript = document.createElement('script')\n    const chartbeat = document.createElement('script')\n    const googleAnalytics = document.createElement('script')\n    const xiti = document.createElement('script')\n    const xtCore = document.createElement('script')\n    headerScript.setAttribute('type', 'text/javascript')\n    headerScript.setAttribute('src', 'https://www.liberation.fr/menu/script.js')\n    chartbeat.innerHTML = `\n    var _sf_async_config={};\n    _sf_async_config.uid = 43601;\n    _sf_async_config.domain = 'liberation.fr';\n    _sf_async_config.useCanonical = true;\n    _sf_async_config.sections = \"Static\";\n    _sf_async_config.authors = \"Static\";\n    (function(){\n      function loadChartbeat() {\n        window._sf_endpt=(new Date()).getTime();\n        var e = document.createElement('script');\n        e.setAttribute('language', 'javascript');\n        e.setAttribute('type', 'text/javascript');\n        e.setAttribute('src', 'https://static.chartbeat.com/' + 'js/chartbeat.js');\n        document.body.appendChild(e);\n      }\n      var oldonload = window.onload;\n      window.onload = (typeof window.onload != 'function') ?\n      loadChartbeat : function() { oldonload(); loadChartbeat(); };\n    })();`\n    googleAnalytics.innerHTML = `\n    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n     ga('create', 'UA-41822557-1', 'liberation.fr');\n     ga('create', 'UA-116918263-1', 'auto', 'SixPlus');\n     ga('send', 'pageview');\n     ga('SixPlus.send', 'pageview');`\n    xiti.innerHTML = `\n    xtnv = document;\n    xtsd = \"https://logliberation\";\n    xtsite = \"507510\";\n    xtn2 = \"48\";\n    xtpage = \"LibeLabo::${xiti_id}\";\n    xtdi = \"\";\n    xt_pagetype = \"\";\n    xt_multc = \"&x1=0&x2=43&x3=&x4=&x5=&x6=7&x7=\";\n    xt_an = \"\";\n    xt_ac = \"\";\n    if (window.xtparam==null) { window.xtparam = ''; }\n    window.xtparam += \"&ptype=\"+xt_pagetype+\"&ac=\"+xt_ac+\"&an=\"+xt_an+xt_multc;`\n    xtCore.setAttribute('type', 'text/javascript')\n    xtCore.setAttribute('src', 'https://statics.liberation.fr/bloom/theme/js/xtcore.js')\n    if (config.show_header) document.body.appendChild(headerScript)\n    if (process.env.NODE_ENV === 'production') {\n      document.body.appendChild(chartbeat)\n      document.body.appendChild(googleAnalytics)\n      document.body.appendChild(xiti)\n      document.body.appendChild(xtCore)\n    }\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * GET HEADER HEIGHT\n   *\n   * * * * * * * * * * * * * * * * */\n  getElementsHeight () {\n    const $nav = document.querySelector('.header-fix-nav')\n    const $body = document.querySelector('body')\n    const pNavHeight = window.LBLB_GLOBAL.nav_height\n    const pBodyPaddingTop = window.LBLB_GLOBAL.body_padding_top\n    const pClientWidth = window.LBLB_GLOBAL.client_width\n    const pClientHeight = window.LBLB_GLOBAL.client_height\n    const navHeight = $nav ? $nav.offsetHeight : 0\n    const bodyPaddingTop = $body ? parseFloat(window.getComputedStyle($body)['padding-top'].slice(0, -2)) : 0\n    const clientWidth = document.documentElement.clientWidth\n    const clientHeight = document.documentElement.clientHeight\n    const pCurrentDisplay = window.LBLB_GLOBAL.current_display\n    window.LBLB_GLOBAL.nav_height = navHeight\n    window.LBLB_GLOBAL.body_padding_top = bodyPaddingTop\n    window.LBLB_GLOBAL.client_width = clientWidth\n    window.LBLB_GLOBAL.client_height = clientHeight\n    if (pNavHeight !== navHeight ||\n      pBodyPaddingTop !== bodyPaddingTop ||\n      pClientWidth !== clientWidth ||\n      pClientHeight !== clientHeight) {\n      window.dispatchEvent(new CustomEvent('lblb-client-dimensions-change'))\n    }\n    if (pCurrentDisplay !== window.LBLB_GLOBAL.current_display) {\n      window.dispatchEvent(new CustomEvent('lblb-client-display-change'))\n    }\n  }\n\n  /* * * * * * * * * * * * * * * * *\n   *\n   * RENDER\n   *\n   * * * * * * * * * * * * * * * * */\n  render () {\n    const { props } = this\n    const { meta, statics_url, stylesheet } = props\n    const { title, url, description, author, image } = meta\n    return <div id='libe-labo-app-wrapper'>\n      <Helmet>\n        <title>Libération.fr – {title}</title>\n        <link rel='canonical' href={url} />\n        <meta name='author' content={author} />\n        <meta name='description' content={description} />\n        <meta property='og:url' content={url} />\n        <meta property='og:title' content={title} />\n        <meta property='og:description' content={description} />\n        <meta property='og:image' content={image} />\n        <meta name='twitter:url' content={url} />\n        <meta name='twitter:title' content={title} />\n        <meta name='twitter:description' content={description} />\n        <meta name='twitter:image' content={image} />\n        {/* Libé styles */}\n        <link rel='stylesheet' href={`${statics_url}/styles/liberation.css`} />\n        {/* Libe Labo styles */}\n        <link rel='stylesheet' href={`${statics_url}/lib/normalize-8.0.0.css`} />\n        <link rel='stylesheet' href={`${statics_url}/styles/fonts.css`} />\n        <link rel='stylesheet' href={`${statics_url}/styles/font-classes.css`} />\n        <link rel='stylesheet' href={`${statics_url}/styles/components.css`} />\n        <link rel='stylesheet' href={`${statics_url}/styles/apps.css`} />\n        {/* Leaflet styles */}\n        <link rel='stylesheet' href={`${statics_url}/lib/leaflet-1.4.0/leaflet.css`} />\n        {/* This app styles */}\n        <link rel='stylesheet' href={`${statics_url}/styles/apps/${stylesheet}`} />\n        <link rel='stylesheet' href='./custom.css' />\n      </Helmet>\n      <App {...props} />\n    </div>\n  }\n}\n\nReactDOM.render(\n  <AppWrapper {...config} />,\n  document.getElementById('libe-labo-app-root')\n)\n\nserviceWorker.unregister()\n"],"sourceRoot":""}